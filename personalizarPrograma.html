<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Personalizar Ciclo ‚Äì GAM Wash Pro</title>

  <link rel="stylesheet" href="personalizarPrograma.css">
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="responsive.css">
  <link rel="stylesheet" href="power.css">
  <link rel="stylesheet" href="reposo.css">
  <link rel="stylesheet" href="programas.css">
</head>

<body>

<!-- ENCABEZADO -->
<div class="header-row">
    <div></div>
    <div class="title-group">
        <h1 class="title">GAM Wash Pro</h1>
        <h2 class="subtitle" id="programSubtitle">Personaliza tu ciclo</h2>
    </div>
</div>

<div class="programs-container">

    <h2 class="programs-title" id="customTitle"></h2>

    <!-- üî• TEMPERATURA -->
    <div class="custom-card">
        <div class="custom-header">
            <span>üå°Ô∏è Temperatura</span>
            <span id="tempValue">30¬∫C</span>
        </div>

        <div class="options-row" id="tempOptions">
            <button class="opt-btn" onclick="setTemp(10)">10¬∫</button>
            <button class="opt-btn" onclick="setTemp(20)">20¬∫</button>
            <button class="opt-btn active" onclick="setTemp(30)">30¬∫</button>
            <button class="opt-btn" onclick="setTemp(40)">40¬∫</button>
            <button class="opt-btn" onclick="setTemp(50)">50¬∫</button>
        </div>
    </div>

    <!-- üî• CENTRIFUGADO -->
    <div class="custom-card">
        <div class="custom-header">
            <span>üîÑ Velocidad de centrifugado</span>
            <span id="spinValue">1200</span>
        </div>

        <div class="options-row" id="spinOptions">
            <button class="opt-btn" onclick="setSpin(400)">400</button>
            <button class="opt-btn" onclick="setSpin(800)">800</button>
            <button class="opt-btn" onclick="setSpin(1000)">1000</button>
            <button class="opt-btn active" onclick="setSpin(1200)">1200</button>
            <button class="opt-btn" onclick="setSpin(1400)">1400</button>
        </div>
    </div>

    <!-- üî• OPCIONES ADICIONALES -->
    <div class="custom-card">
        <div class="custom-header">
            <span>üß¥ Opciones adicionales</span>
        </div>

        <div class="extra-options">

            <div class="extra-item">
                <p><strong>Shampoo Extra</strong><br>
                <span class="desc">Adicionar shampoo extra al ciclo</span></p>

                <label class="switch">
                    <input type="checkbox" id="shampooToggle">
                    <span class="slider"></span>
                </label>
            </div>

            <div class="extra-item">
                <p><strong>Pre-Lavado</strong><br>
                <span class="desc">Para prendas extremadamente percudidas</span></p>

                <label class="switch">
                    <input type="checkbox" id="prelavadoToggle">
                    <span class="slider"></span>
                </label>
            </div>

        </div>
    </div>

</div>

<!-- BOTONES -->
<div class="button-row" style="margin-top: 20px;">
    <button class="btn white" onclick="cancelar()">Cancelar</button>
    <button class="btn blue" onclick="guardarCambios()">Guardar</button>
</div>

<script>
/* -------------------------------------------------------
   üî• CARGAR NOMBRE DEL PROGRAMA DESDE LOCALSTORAGE
------------------------------------------------------- */
const programName = localStorage.getItem("selectedProgram") || "Delicado";
document.getElementById("customTitle").textContent =
    "Programa tu ciclo " + programName.toUpperCase() + ":";

document.getElementById("programSubtitle").textContent = programName;


/* -------------------------------------------------------
   üî• FUNCIONES PARA TEMPERATURA
------------------------------------------------------- */
function setTemp(val) {
    document.getElementById("tempValue").textContent = val + "¬∫C";

    document.querySelectorAll("#tempOptions .opt-btn")
        .forEach(btn => btn.classList.remove("active"));

    event.target.classList.add("active");
}


/* -------------------------------------------------------
   üî• FUNCIONES PARA CENTRIFUGADO
------------------------------------------------------- */
function setSpin(val) {
    document.getElementById("spinValue").textContent = val;

    document.querySelectorAll("#spinOptions .opt-btn")
        .forEach(btn => btn.classList.remove("active"));

    event.target.classList.add("active");
}


/* -------------------------------------------------------
   üî• GUARDAR EN LOCALSTORAGE
------------------------------------------------------- */
function guardarCambios() {
    const settings = {
        temp: document.getElementById("tempValue").textContent,
        spin: document.getElementById("spinValue").textContent,
        shampoo: document.getElementById("shampooToggle").checked,
        prelavado: document.getElementById("prelavadoToggle").checked
    };

    saveProgramSettings(programName, settings);
    alert("Configuraci√≥n guardada ‚úî");
    location.href = "programas.html";
}


/* -------------------------------------------------------
   üî• CANCELAR ‚Äì Volver sin guardar
------------------------------------------------------- */
function cancelar() {
    location.href = "programas.html";
}
</script>

</body>
</html>

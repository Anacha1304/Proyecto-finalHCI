<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>GAM Wash Pro</title>

  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="responsive.css">
  <link rel="stylesheet" href="power.css">
  <link rel="stylesheet" href="reposo.css">
  <link rel="stylesheet" href="programas.css">



</head>

<body>

  <!-- Indicador de JS -->
  <div id="jsIndicator" class="indicator">‚óè</div>

  <div class="header-row">
    <div id="currentTime" class="current-time">--:--</div>

    <div class="title-group">
        <h1 class="title">GAM Wash Pro</h1>
        <h2 class="subtitle">Sistema de Lavado Inteligente</h2>
    </div>
</div>


  <div id="screen-home" class="screen active">
   <div class="container">

    <!-- PANEL PRINCIPAL -->
    <div class="panel main">

        <div class="top-row">
            <!-- Bot√≥n circular -->
            <div class="power-circle">
                <div class="power-icon">‚èª</div>
            </div>

            <!-- Texto de tiempo -->
            <div class="time-block">
                <p class="time-label">Tiempo</p>
                <p class="time-big" id="programTime">1 h 15 min</p>

                <p class="time-label small">Hora Finalizaci√≥n</p>
                <p class="time-big small" id="finishTime">10:45 am</p>
            </div>
        </div>

        <!-- Fila de Programa - Temp - Spin -->
        <div class="info-row spaced">
            <div class="info-block">
                <p class="label">Programa</p>
                <p class="value" id="programName">Delicado</p>
            </div>

            <div class="info-block">
                <p class="label">Temperatura</p>
                <p class="value" id="programTemp">40¬∫C</p>
            </div>

            <div class="info-block">
                <p class="label">Spin</p>
                <p class="value" id="programSpin">1200</p>
            </div>
        </div>


    </div>


    <!-- Panel del fiducial -->
    <div class="panel fiducial">
      <p class="fiducial-text">Coloca tu c√≥digo aqu√≠</p>

      <div class="fiducial-box">
        <img id="fiducialImg" src="" alt="" class="fiducial-img hidden">
        <p id="fiducialPlaceholder" class="placeholder-text">Esperando c√≥digo‚Ä¶</p>

        <!-- Nuevo overlay -->
        <div id="compatOverlay" class="compat-overlay hidden">
            <img id="compatIcon" src="">
        </div>
        
    </div>
        <p id="compatText" class="compat-text hidden"></p>
    </div>

  </div>

  <!-- Botones -->
  <div class="button-row">

    <button id="programBtn" class="btn white">
      Programas ‚öôÔ∏è
    </button>

    <div id="actionButtons" style="flex:1;">
      <button id="startBtn" class="btn blue">Iniciar lavado ‚ñ∂</button>
    </div>

  </div>

<div class="assistant-wrapper">
  <div id="voiceBtn" class="assistant-btn">
      <span class="mic-icon">üé§</span>
  </div>
  <div id="assistantBubble" class="assistant-bubble">
      Habla con GAM ‚ú®
  </div>
</div>


<div id="assistantMessage" class="assistant-message hidden"></div>

<div id="transitionOverlay" class="full-transition hidden"></div>




    <!-- Men√∫ inferior -->
    <div class="bottom-bar">

        <button class="bottom-item" onclick="goToHome()">
            <img src="icons/casa.png" class="icon"> <span>Inicio</span>
        </button>

        <button class="bottom-item" onclick="location.href='programas.html'">
            <img src="icons/engranaje.png" class="icon"> <span>Programas</span>
        </button>

        <button class="bottom-item" onclick="location.href='historial.html'">
            <img src="icons/historico.png" class="icon"> <span>Historial</span>
        </button>

    </div>




  <!-- Aviso -->
  <div id="alertBox" class="alert hidden">
    <div class="alert-content">
      <span id="alertMessage">Mensaje</span>
    </div>
</div> <!-- SCREEN 1 -->



<!-- Overlay NEGRO de apagado -->
<div id="powerOverlay" class="power-off">
    <button id="powerReturnBtn" class="power-big-btn">‚èª</button>
</div>

<!-- Overlay de transici√≥n (siempre empieza oculto) -->
<div id="transitionOverlay" class="full-transition hidden"></div>

<!-- Overlay de reposo del lavado -->
<div id="restOverlay" class="rest-overlay hidden">

    <div class="rest-card">

        <!-- C√≠rculo grande -->
        <div class="rest-left">

            <!-- C√≠rculo grande para pausar/reanudar -->
            <button id="pausePlayBtn" class="circle-btn">
                <span id="circleIcon">‚è∏</span>
            </button>

            <!-- Bot√≥n peque√±o: detener -->
            <button id="smallStopBtn" class="small-stop-btn">‚èπ</button>

            

        </div>

            

        <!-- Datos de la derecha -->
        <div class="rest-right">

            <p class="rest-label">Tiempo restante</p>
            <p class="rest-value" id="remainingTime">--</p>

            <p class="rest-label">Hora Finalizaci√≥n</p>
            <p class="rest-value" id="finishRestTime">--</p>

            <div class="rest-info-row">
                <div>
                    <p class="rest-sub">Programa</p>
                    <p class="rest-sub-value" id="programNameRest">--</p>
                </div>
                <div>
                    <p class="rest-sub">Temperatura</p>
                    <p class="rest-sub-value" id="programTempRest">--</p>
                </div>
                <div>
                    <p class="rest-sub">Spin</p>
                    <p class="rest-sub-value" id="programSpinRest">--</p>
                </div>
            </div>

        </div>
    </div>
    <div class="steps-container">
        <div class="steps-line">
            <div id="stepsProgress" class="progress-fill"></div>

            <div class="step-circle"></div>
            <div class="step-circle"></div>
            <div class="step-circle"></div>
            <div class="step-circle"></div>
            <div class="step-circle"></div>
        </div>
    </div>



</div>


  <!-- JS EXTERNO -->
  <script src="sessionManager.js"></script>
  <script src="app.js"></script>
  <script src="power.js"></script>
  <script src="reposo.js"></script>
  <script type="module" src="voice.js"></script>

  <!-- üî• OVERLAY DE FALLA EN LA LAVADORA (FIDUCIAL 15) -->
<div id="errorOverlay" class="error-overlay hidden">
    <div class="error-card">
        <img src="icons/lavadoraMala.png" alt="Fallo en lavadora" class="error-img">

        <h2 class="error-title">¬°Hemos detectado un fallo en tu lavadora!</h2>

        <p class="error-desc">
            Escaneemos las piezas para detectar el fallo  
            y notificar al t√©cnico.
        </p>

        <button class="btn blue" onclick="closeErrorOverlay()">Entendido</button>
    </div>
</div>

<!-- üö® OVERLAY DE EMERGENCIA (FALLA DE MOTOR ‚Äì FIDUCIAL 16) -->
<div id="motorOverlay" class="error-overlay hidden">
    <div class="error-card danger">

        <img src="icons/lavadoraMala.png" alt="Fallo cr√≠tico" class="error-img">

        <h2 class="error-title danger-title">‚ö† FALLO CR√çTICO DEL MOTOR</h2>

        <p class="error-desc danger-desc">
            La lavadora ha detenido su funcionamiento debido al <strong>sobrecalentamiento del motor</strong>.  
            Existe riesgo de da√±o completo o arreglo segun se evalue.
            <br><br>
            Desconecta el equipo inmediatamente y contactare al servicio t√©cnico.
        </p>

        <button class="btn blue danger-btn" onclick="closeMotorOverlay()">Entendido</button>
    </div>
</div>

<!-- ‚úÖ OVERLAY DE MOTOR VALIDADO (FIDUCIAL 17) -->
<div id="motorOkOverlay" class="success-overlay hidden">
    <div class="success-card">

        <img src="icons/comprobado.png" alt="Motor validado" class="success-img">

        <h2 class="success-title">Motor Verificado</h2>

        <p class="success-desc">
            La pieza del motor se encuentra en <strong>√≥ptimas condiciones</strong>.
            El sistema confirma que todo funciona correctamente.
        </p>

        <button class="btn blue success-btn" onclick="closeMotorOkOverlay()">Perfecto</button>
    </div>
</div>


</body>
</html>



